<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Documentation</title>

    <link rel="icon" href="favicon.ico" />

    <link href="../stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <link href="../stylesheets/navio.css" rel="stylesheet" type="text/css" media="all" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="../javascripts/all_nosearch.js" type="text/javascript"></script>

  </head>

  <body class="includes includes_interface">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="../images/logo.png" />
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="interface">interface</h1>

<p>The only endpoint of this version of the api is :
<a href="https://api.navitia.io/v1/">https://api.navitia.io/v1/</a></p>

<p>We aim to implement <a href="http://en.wikipedia.org/wiki/HATEOAS">HATEOAS</a>
concept with Navitia.</p>

<p>All the resources return a response containing a links object, a paging
object, and the requested objects. That&rsquo;s lots of links. Links allow
you to know all accessible uris and services for a given point.</p>

<h2 id="paging">Paging</h2>

<aside class="success">
    The results are paginated to avoid crashing your parser. The parameters to get the next or previous page are within the &ldquo;links&rdquo; section of the result.
</aside>

<p>All response contains a paging object</p>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>items_per_page</td>
<td>int</td>
<td>Number of items per page</td>
</tr>
<tr>
<td>items_on_page</td>
<td>int</td>
<td>Number of items on this page</td>
</tr>
<tr>
<td>start_page</td>
<td>int</td>
<td>The page number</td>
</tr>
<tr>
<td>total_result</td>
<td>int</td>
<td>Total number of items for this request</td>
</tr>
</tbody></table>

<p>You can navigate through a request with 2 parameters</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>start_page</td>
<td>int</td>
<td>The page number</td>
</tr>
<tr>
<td>count</td>
<td>int</td>
<td>Number of items per page</td>
</tr>
</tbody></table>

<aside class="notice">
    The number of objects returned for a request can <b>not be superior than 1000</b>. 
    If you request for more, Navitia will return the first 1000, and you will have to paginate to get next 1000.
</aside>

<h2 id="templated-url">Templated url</h2>

<p>Under some link sections, you will find a &ldquo;templated&rdquo; property. If
&ldquo;templated&rdquo; is true, then you will have to format the link with one id.</p>

<p>For example, in response of
<a href="https://api.navitia.io/v1/coverage/fr-idf/lines">https://api.navitia.io/v1/coverage/fr-idf/lines</a> you will find a
<em>links</em> section:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.navitia.io/v1/coverage/fr-idf/lines/{lines.id}/stop_schedules"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"route_schedules"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"templated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>You have to put one line id instead of <em>{lines.id}</em>. For example:
<a href="https://api.navitia.io/v1/coverage/fr-idf/lines/line:OIF:043043001:N1OIF658/stop_schedules">https://api.navitia.io/v1/coverage/fr-idf/lines/line:OIF:043043001:N1OIF658/stop_schedules</a></p>

<h2 id="inner-references">Inner references</h2>

<p>Some link sections look like</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"internal"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"disruption"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edc46f3a-ad3d-11e4-a5e1-005056a44da2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"disruptions"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"templated"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>That means you will find inside the same stream ( <em>&ldquo;internal&rdquo;: true</em> ) a
<em>disruptions</em> section ( <em>&ldquo;rel&rdquo;: &ldquo;disruptions&rdquo;</em> ) containing some
<a href="#disruption">disruptions</a> objects ( <em>&ldquo;type&rdquo;: &ldquo;disruption&rdquo;</em> ) where you can find the
details of your object ( <em>&ldquo;id&rdquo;: &ldquo;edc46f3a-ad3d-11e4-a5e1-005056a44da2&rdquo;</em>
).</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
